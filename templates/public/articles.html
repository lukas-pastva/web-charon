{{template "base" .}}

{{define "title"}}Articles - Charon MC{{end}}

{{define "content"}}
<div class="container">
    <h1 class="section-title">Articles</h1>

    {{if .Articles}}
    <div class="article-grid">
        {{range .Articles}}
        <a href="/articles/{{.Slug}}" class="article-card">
            {{if .CoverImage}}
            <img src="/uploads/{{.CoverImage}}" alt="{{.Title}}" class="article-card-img">
            {{end}}
            <div class="article-card-body">
                <h3 class="article-card-title">{{.Title}}</h3>
                {{if .Excerpt}}<p class="article-card-excerpt">{{.Excerpt}}</p>{{end}}
                <p class="article-card-meta">{{.CreatedAt.Format "January 2, 2006"}}</p>
            </div>
        </a>
        {{end}}
    </div>

    <div class="pagination">
        {{if .HasPrev}}<a href="/articles?page={{.PrevPage}}">&laquo; Previous</a>{{end}}
        <span>Page {{.Page}} of {{.TotalPages}}</span>
        {{if .HasNext}}<a href="/articles?page={{.NextPage}}">Next &raquo;</a>{{end}}
    </div>
    {{else}}
    <p style="color: var(--text-muted);">No articles yet. Check back soon.</p>
    {{end}}
</div>
{{end}}
